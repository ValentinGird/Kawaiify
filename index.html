<!DOCTYPE html>
<html lang="en">
   <head>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <title>Kawaiify</title>
      <!-- Favicon -->
      <link rel="icon" type="image/png" href="https://i.ibb.co/XZJbQPYm/favicon-32x32.png">
      <!-- Google Analytics Tag -->
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-87691MFX3P"></script>
      <script>
         window.dataLayer = window.dataLayer || [];
         function gtag(){dataLayer.push(arguments);}
         gtag('js', new Date());
         
         gtag('config', 'G-87691MFX3P', { 'debug_mode': true });
      </script>
      <!-- End Google Analytics Tag -->
      <style>
         /* Dark mode */
         * {
         box-sizing: border-box;
         }
         html, body {
         height: 100%;
         margin: 0;
         display: flex;
         flex-direction: column;
         }
         body {
         background-color: #121212;
         color: #e0e0e0;
         font-family: Arial, sans-serif;
         text-align: center;
         flex-grow: 1;
         }
         .container {
         display: flex;
         flex-direction: column;
         flex-grow: 1;
         padding-bottom: 50px; /* Leave space for the footer */
         }
         /* Profile banner */
         .banner {
         background-color: #333;
         color: #fff;
         padding: 15px;
         margin-bottom: 20px;
         display: flex;
         justify-content: center;
         align-items: center;
         text-align: center;
         flex-direction: column;
         }
         .banner img {
         border-radius: 50%;
         width: 80px;
         height: 80px;
         margin-bottom: 10px;
         }
         .banner h2 {
         font-size: 1.5em;
         margin: 0;
         color: #FF69B4; /* Flashy pink for the title */
         }
         .banner p {
         font-size: 1em;
         margin-top: 5px;
         }
         /* Grid for offers layout */
         .offers {
         display: grid;
         grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
         gap: 20px;
         padding: 20px;
         justify-items: center; /* Center the elements in the grid */
         align-items: stretch; /* Ensure elements have the same height */
         margin-bottom: 0px; /* R√©duction maximale sans √™tre coll√© */
         padding-bottom: 0px !important; /* Supprime tout padding en bas */
         }
         /* Offer */
         .offer {
         background-color: #1e1e1e;
         border: 1px solid #444;
         border-radius: 10px;
         padding: 20px;
         margin: 0;
         display: flex;
         flex-direction: column;
         justify-content: space-between;
         align-items: center;
         width: 100%;
         max-width: 400px; /* Limit width to avoid large blocks on PC */
         height: 100%; /* Ensure all sections have the same height */
         margin-bottom: 10px; /* R√©duction de l‚Äôespace en dessous */
         }
         .offer h2 {
         color: #FF69B4; /* Flashy pink for the titles */
         font-size: 1.8em;
         }
         .offer img {
         width: 100%;
         max-height: 500px; /* Limite la hauteur de l'image */
         object-fit: cover; /* Adapte l'image sans la d√©former */
         border-radius: 10px; /* Conserve les bords arrondis */
         }
         /* Button styles */
         .button {
         display: inline-block;
         margin-top: 15px;
         padding: 15px 30px;
         background-color: #FF69B4;
         color: white;
         border-radius: 8px;
         font-size: 16px;
         cursor: pointer;
         text-align: center;
         border: 2px solid #FF69B4;
         transition: background-color 0.3s ease, border-color 0.3s ease, transform 0.2s ease;
         text-decoration: none;
         animation: pulse 1.5s infinite ease-in-out;
         }
         .button:hover {
         background-color: #FF1493; /* Rose plus fonc√© au survol */
         border-color: #FF1493;
         }
         /* Email input styles */
         .email-input-container {
         position: relative;
         width: 100%;
         max-width: 300px;
         margin-top: 20px;
         margin-bottom: 0px; /* Moins d‚Äôespace apr√®s le champ email */
         padding-bottom: 0px !important;
         }
         .email-input {
         width: 100%;
         padding: 15px;
         background-color: #2a2a2a; /* Gris clair pour le champ */
         border: none;
         border-radius: 8px;
         color: #fff;
         font-size: 16px;
         text-align: center;
         box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3);
         transition: background-color 0.3s ease;
         }
         .email-input::placeholder {
         color: #bbb; /* Placeholder gris plus clair */
         }
         .email-input:focus {
         background-color: #444; /* Un peu plus sombre au focus */
         outline: none;
         }
         .email-input-button {
         background-color: #FF69B4; /* Bouton rose moderne */
         padding: 15px;
         border: none;
         width: 100%;
         font-size: 16px;
         color: #fff;
         border-radius: 8px;
         cursor: pointer;
         text-align: center;
         margin-top: 10px;
         transition: background-color 0.3s ease;
         }
         .email-input-button:hover {
         background-color: #FF1493; /* Bouton plus sombre au hover */
         }
         footer {
         background-color: #333;
         color: #bbb;
         padding: 10px;
         margin-top: auto; /* Positionne le footer en bas */
         text-align: center;
         }
         footer a {
         color: #FF69B4; /* Rose pour les liens */
         text-decoration: none;
         }
         footer a:hover {
         text-decoration: underline;
         }
         /* ‚úÖ R√©duit l‚Äôespace entre les images de la galerie et les autres sections */
         .gallery {
         display: grid;
         grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
         gap: 20px;
         padding: 20px;
         justify-items: center; /* Center the elements in the grid */
         align-items: stretch; /* Ensure elements have the same height */
         margin-bottom: 0px; /* R√©duction maximale sans √™tre coll√© */
         margin-top: 0px !important;
         }
         /* ‚úÖ Ajustement de l‚Äôespacement entre chaque image du scroll infini */
         .gallery-offer {
         background-color: #1e1e1e;
         border: 1px solid #444;
         border-radius: 10px;
         padding: 20px;
         margin: 0;
         display: flex;
         flex-direction: column;
         justify-content: space-between;
         align-items: center;
         width: 100%;
         max-width: 400px; /* Limit width to avoid large blocks on PC */
         height: 100%; /* Ensure all sections have the same height */
         margin-bottom: 10px; /* R√©duction de l‚Äôespace en dessous */
         }
         /* ‚úÖ R√©duction de l‚Äôespace sous les images */
         .gallery-offer img {
         width: 100%;
         max-height: 500px; /* Limite la hauteur de l'image */
         object-fit: cover; /* Adapte l'image sans la d√©former */
         border-radius: 10px; /* Conserve les bords arrondis */
         }
         /* ‚úÖ R√©duction de l‚Äôespace entre les boutons et l‚Äôimage */
         .gallery-offer .button-container {
         display: flex;
         justify-content: center;
         gap: 8px; /* Moins d‚Äôespace entre les boutons */
         margin-top: 10px; /* Moins d‚Äôespace entre l‚Äôimage et les boutons */
         width: 100%;
         }
         /* ‚úÖ Ajustement du footer pour qu‚Äôil ne remonte pas trop */
         footer {
         width: 100%;
         background-color: #333;
         color: #bbb;
         padding: 15px;
         text-align: center;
         position: relative;
         margin-top: 30px; /* Un peu d‚Äôespace, mais pas trop */
         }
         .section-title {
         font-size: 24px;
         font-weight: bold;
         color: #FF69B4; /* Couleur flashy rose */
         text-align: center;
         margin-top: 30px;
         margin-bottom: 10px;
         }
         .gallery-description {
         font-size: 14px;
         color: #bbb;
         text-align: center;
         margin-bottom: 10px;
         }
         .gallery-description {
         font-size: 16px; /* Augmentation de la taille */
         font-weight: bold; /* Texte en gras */
         color: #ffffff; /* Rose plus clair */
         text-align: center;
         margin-bottom: 20px;
         background: rgba(255, 105, 180, 0.1); /* L√©g√®re couleur de fond */
         padding: 10px;
         border-radius: 0px;
         display: inline-block;
         }
         /* ‚úÖ Champ email */
         .popup-email-input {
         width: 100%;
         padding: 10px;
         margin: 10px 0;
         border: none;
         border-radius: 6px;
         text-align: center;
         ont-size: 14px;
         background-color: #2a2a2a;
         color: white;
         font-size: 16px; /* ‚úÖ Emp√™che le zoom sur iOS */
         }
         /* ‚úÖ Bouton du popup */
         .popup-container .popup-button {
         display: inline-block;
         padding: 10px 20px;
         background-color: #FF69B4;
         color: white;
         border-radius: 6px;
         font-size: 14px;
         cursor: pointer;
         text-align: center;
         border: none;
         transition: background-color 0.3s ease;
         text-decoration: none;
         font-weight: bold;
         }
         .popup-container .popup-button:hover {
         background-color: #FF1493;
         }
         .counter-text {
         font-size: 14px;
         color: #fff;
         text-align: center;
         margin-bottom: 5px;
         font-weight: bold;
         }
         .info-container {
         display: flex;
         flex-direction: column;
         align-items: center;
         text-align: center;
         margin-top: 10px;
         }
         .logo-container {
         display: flex;
         justify-content: center;
         align-items: center;
         width: 100%;
         padding: 10px 0; /* Espace au-dessus et en dessous */
         margin-top: 20px; /* ‚úÖ Ajoute de l‚Äôespace au-dessus */
         }
         .logo-container img {
         width: 90%;  /* ‚úÖ Adapte la largeur au mobile sans d√©passer */
         max-width: 200px; /* ‚úÖ Ne d√©passe pas cette largeur sur PC */
         height: auto; /* ‚úÖ Garde les proportions */
         object-fit: contain;
         }
         .download-button {
         display: inline-block;
         margin-top: 10px;
         padding: 12px 20px;
         background-color: #FF69B4;
         color: white;
         border-radius: 8px;
         font-size: 14px;
         text-align: center;
         border: none;
         font-weight: bold;
         cursor: pointer;
         transition: background-color 0.3s ease;
         width: 100%;  /* Assure que les boutons prennent toute la largeur */
         }
         .download-button:hover {
         background-color: #FF1493;
         }
         /* ‚úÖ Arri√®re-plan flou (overlay) */
         .popup-overlay {
         position: fixed;
         top: 0;
         left: 0;
         width: 100%;
         height: 100%;
         background: rgba(0, 0, 0, 0.6); /* Fond semi-transparent */
         backdrop-filter: blur(8px); /* Effet de flou */
         display: none; /* Cach√© par d√©faut */
         align-items: center;
         justify-content: center;
         z-index: 1000;
         }
         /* ‚úÖ Style du popup CENTR√â */
         .popup-container {
         background-color: #1e1e1e;
         color: #ffffff;
         padding: 20px;
         border-radius: 10px;
         box-shadow: 0 4px 10px rgba(0, 0, 0, 0.5);
         text-align: center;
         width: 90%;
         max-width: 400px;
         position: fixed;
         top: 50%;
         left: 50%;
         transform: translate(-50%, -50%);
         display: none;
         animation: fadeIn 0.3s ease-in-out;
         /* ‚úÖ Correction pour √©viter l'espace inutile en bas */
         max-height: 90vh;
         overflow-y: auto;
         }
         /* ‚úÖ Ajustement pour mobile */
         @media screen and (max-width: 600px) {
         .popup-container {
         width: 90%;
         max-width: 350px;
         padding: 15px;
         }
         }
         /* ‚úÖ Animation fluide */
         @keyframes fadeIn {
         from { opacity: 0; transform: translate(-50%, -55%); }
         to { opacity: 1; transform: translate(-50%, -50%); }
         }
         /* ‚úÖ Bouton de fermeture bien positionn√© */
         .popup-close {
         position: absolute;
         top: 10px;
         right: 15px;
         font-size: 20px;
         cursor: pointer;
         color: #ffffff;
         opacity: 0.8;
         z-index: 10;
         }
         .popup-close:hover {
         opacity: 1;
         }
         /* ‚úÖ Style de la liste des avantages */
         .popup-benefits {
         text-align: left;
         margin: 15px 0;
         padding-left: 20px;
         list-style: none;
         }
         .popup-benefits li {
         font-size: 14px;
         margin-bottom: 5px;
         padding-left: 20px;
         position: relative;
         }
         /* ‚úÖ Ajout d'une ic√¥ne devant chaque point */
         .popup-benefits li::before {
         content: ""; /* Emoji Checkmark */
         position: absolute;
         left: 0;
         }
         /* ‚úÖ Style du bouton alternatif */
         .popup-alt-download {
         font-size: 13px;
         margin-top: 15px;
         color: #bbb;
         }
         /* ‚úÖ Style de l'image du popup */
         .popup-image {
         width: 50%; /* R√©duit √† 80% de la largeur du popup */
         max-width: 250px; /* ‚úÖ Limite la taille maximale */
         height: auto; /* ‚úÖ Garde le ratio d‚Äôorigine */
         display: block; /* ‚úÖ Assure un bon affichage */
         margin: 0 auto 10px; /* ‚úÖ Centre l‚Äôimage et ajoute un espace en dessous */
         border-radius: 8px; /* ‚úÖ Garde des bords arrondis pour le style */
         }
         .popup-alt-button {
         background: none;
         border: none;
         color: #bbb; /* Gris pour que ce soit discret */
         font-size: 14px;
         text-decoration: underline; /* Ajoute le style lien */
         cursor: pointer;
         padding: 0;
         }
         .popup-alt-button:hover {
         color: #FF69B4; /* Rose au survol pour rester coh√©rent avec ton design */
         }
         .no-scroll {
         overflow: hidden;
         height: 100vh;
         }
         /* ‚úÖ Style du bouton Download in HD (gris) */
         .download-button-hd {
         background-color: #555; /* Gris fonc√© */
         color: #ddd; /* Texte gris clair */
         border: 2px solid #777; /* Bordure l√©g√®rement plus claire */
         transition: background-color 0.3s ease, border-color 0.3s ease;
         }
         .download-button-hd:hover {
         background-color: #666; /* Gris plus clair au survol */
         border-color: #888;
         }
         /* ‚úÖ Style du bouton Download in 4K (rose pour mettre en avant) */
         .download-button-4k {
         background-color: #FF69B4; /* Rose flashy */
         color: white;
         border: 2px solid #FF69B4;
         transition: background-color 0.3s ease, border-color 0.3s ease;
         }
         .download-button-4k:hover {
         background-color: #FF1493; /* Rose plus fonc√© au survol */
         border-color: #FF1493;
         }
         /* ‚úÖ Style du bouton pour remonter en haut */
         .scroll-top-button {
         position: fixed;
         bottom: 20px;
         right: 20px;
         width: 50px;
         height: 50px;
         background-color: #FF69B4; /* Rose flashy */
         border: none;
         border-radius: 50%;
         display: flex;
         justify-content: center;
         align-items: center;
         cursor: pointer;
         box-shadow: 0 4px 10px rgba(0, 0, 0, 0.5);
         transition: opacity 0.3s ease-in-out, transform 0.2s ease;
         z-index: 1000;
         }
         /* ‚úÖ Effet au survol */
         .scroll-top-button:hover {
         background-color: #FF1493; /* Rose plus fonc√© */
         transform: scale(1.1);
         }
         /* ‚úÖ Style sp√©cifique pour l'ic√¥ne SVG */
         .scroll-top-button svg {
         width: 24px;
         height: 24px;
         stroke: white; /* ‚úÖ Fl√®che blanche */
         }
         /* ‚úÖ Conteneur de la barre de recherche */
         .search-container {
         display: flex;
         justify-content: center; /* ‚úÖ Centre la barre */
         align-items: center;
         margin: 20px auto; /* ‚úÖ Ajoute un peu d'espace autour */
         width: 90%;
         max-width: 350px;
         background-color: #1e1e1e;
         padding: 10px;
         box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3);
         border-radius: 10px;
         margin-bottom: 0px; /* Ajuste selon ton besoin */
         margin-top: 0px; /* Ajuste la valeur selon ton besoin */
         }
         /* ‚úÖ Barre de recherche */
         .search-bar {
         width: 100%;
         padding: 12px;
         font-size: 16px;
         border: 2px solid #FF69B4;
         border-radius: 8px;
         background-color: #1e1e1e;
         color: white;
         text-align: center;
         }
         /* ‚úÖ Style du titre */
         .image-title {
         font-size: 18px;
         font-weight: bold;
         color: #FF69B4; /* Rose flashy */
         margin-top: -5px; /* R√©duction de l'espace au-dessus */
         margin-bottom: 10px; /* Espacement avant l'image */
         text-align: center;
         }
         /* ‚úÖ Style de la description */
         .image-description {
         font-size: 14px;
         color: #bbb;
         margin: 5px 0;
         text-align: center;
         padding: 0 10px;
         }
         /* ‚úÖ Conteneur des tags */
         .tags-container {
         display: flex;
         flex-wrap: wrap;
         justify-content: center;
         gap: 5px;
         margin-bottom: 10px;
         }
         /* ‚úÖ Style des tags */
         .tag {
         background-color: #2a2a2a;
         color: white;
         padding: 5px 10px;
         border-radius: 5px;
         font-size: 12px;
         font-weight: bold;
         }
         /* ‚úÖ Style des tags */
         .tag {
         background-color: #2a2a2a;
         color: white;
         padding: 5px 10px;
         border-radius: 5px;
         font-size: 12px;
         font-weight: bold;
         cursor: pointer; /* ‚úÖ Rend le tag cliquable */
         transition: background-color 0.2s ease-in-out;
         user-select: none; /* Emp√™che le navigateur de "garder" le focus sur le tag */
         }
         /* ‚úÖ Effet au survol */
         .tag:hover {
         background-color: #FF1493;
         }
         .tag:not(.active) {
         background-color: #2a2a2a !important; /* üî• Remet la couleur de base si d√©sactiv√© */
         }
         /* ‚úÖ Effet actif */
         .tag:hover,
         .tag.active {
         background-color: #FF1493;
         }
         /* ‚úÖ Emp√™cher le tag de rester rose apr√®s un second clic */
         .tag:focus {
         outline: none;
         background-color: inherit !important; /* üî• Force √† garder la couleur d'origine */
         }
         /* ‚úÖ Effet quand un tag est actif (cliqu√©) */
         .tag.active {
         background-color: #FF1493;
         border: 2px solid white;
         }
         /* ‚úÖ Pour r√©activer l'image mettre "display: block;" */
         /* ‚úÖ Pour d√©sactiver l'image mettre "display: none;" */
         .popup-image {
         display: block; /* Cache l'image */
         }
         /* ‚úÖ Emp√™che le clic droit et le drag & drop sur toutes les images */
         img {
         pointer-events: none; /* D√©sactive toute interaction avec la souris */
         user-select: none; /* Emp√™che la s√©lection */
         -webkit-user-drag: none; /* D√©sactive le glisser-d√©poser sur Webkit (Chrome, Safari) */
         }
         /* ‚úÖ Style de la section Telegram en haut */
         #telegram-offer-section {
         background-color: #1e1e1e;
         border: 1px solid #444;
         border-radius: 10px;
         padding: 20px;
         display: flex;
         flex-direction: column;
         justify-content: space-between;
         align-items: center;
         width: 100%;
         max-width: 400px;
         margin: auto;
         text-align: center;
         margin-top: 0px; /* üî• R√©duit l‚Äôespace au-dessus */
         margin-bottom: 0px; /* üî• R√©duit l‚Äôespace en dessous */
         }
         /* ‚úÖ Forcer le bouton √† prendre toute la largeur */
         .telegram-button {
         display: block; /* üî• Fait en sorte que le bouton occupe toute la ligne */
         width: 100%; /* üî• Prend toute la largeur du conteneur */
         max-width: none; /* ‚ùå Supprime la limitation de largeur */
         background-color: #24A1DE; /* üîµ Bleu personnalis√© */
         color: white;
         font-size: 16px;
         font-weight: bold;
         padding: 12px 20px;
         border: none;
         border-radius: 8px;
         cursor: pointer;
         text-align: center;
         transition: background-color 0.3s ease, transform 0.2s ease;
         box-shadow: 0 4px 6px rgba(0, 0, 0, 0.2);
         margin-top: 10px;
         }
         /* ‚úÖ Effet au survol */
         .telegram-button:hover {
         background-color: #1C81B1; /* üîµ Bleu plus fonc√© au survol */
         transform: scale(1.02);
         }
         /* ‚úÖ Effet au clic */
         .telegram-button:active {
         transform: scale(0.98);
         }
         /* ‚úÖ Ajustement de l'image pour qu'elle ne soit pas trop grande */
         #telegram-offer-section img {
         width: 100%;
         max-width: 300px;
         border-radius: 10px;
         margin-top: 10px;
         }
      </style>
   </head>
   <body>
      <!-- ‚úÖ Bouton de retour en haut -->
      <button id="scrollTopButton" class="scroll-top-button">
         <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="3" stroke-linecap="round" stroke-linejoin="round">
            <polyline points="18 15 12 9 6 15"></polyline>
         </svg>
      </button>
      <div class="logo-container">
         <a href="https://kawaiify.art">
         <img src="https://i.ibb.co/rfGqdvc6/Logo-test.png" alt="Kawaiify Logo">
         </a>
      </div>
      <!-- ‚úÖ Barre de recherche -->
      <div class="search-container">
         <input type="text" id="searchBar" class="search-bar" placeholder="üîç Search wallpapers...">
      </div>
      <!-- ‚úÖ Popup 4K Centered -->
      <div class="popup-overlay" id="popup-4k-overlay">
         <div class="popup-container" id="popup-4k">
            <span class="popup-close">‚úñ</span>
            <!-- ‚úÖ Image d'illustration 4K vs HD -->
            <img id="popup-4k-gallery-image" src="" alt="4K Wallpaper Preview" class="popup-image">
            <!-- ‚úÖ Titre du popup -->
            <h3>üéÅ Get This 4K Anime Wallpaper & Unlock Daily Surprises! ‚ú®</h3>
            <p>Enter your email to <strong>instantly download this wallpaper in ultra-HD</strong> and <strong>get access to daily exclusive content</strong>.</p>
            <!-- ‚úÖ Formulaire d'inscription -->
            <form id="popup-4k-form" action="https://form.flodesk.com/forms/679762dbb32b1d435468220c/submit" method="POST">
               <input type="email" name="email" class="popup-email-input" placeholder="Enter your email" required>
               <button type="submit" class="popup-button">üì• Download in 4K Now!</button>
            </form>
         </div>
      </div>
      <p class="gallery-description">Unlock all the high-definition <strong>wallpapers</strong> and upgrade your screen for free!</p>
      <div class="gallery" id="gallery"></div>
      <footer>
         <p>&copy; 2025 Kawaiify | <a href="https://tonsite.com/privacy">Privacy Policy</a></p>
      </footer>
      <script>
         //GESTION DES PUBS
         const adTemplates = [
         {
           title: "üî• Exclusive Content on Telegram!",
           imageUrl: "https://i.ibb.co/rfmqMyj8/zefzefzefzezefzefzef.png", // Remplace par une autre image si besoin
           description: "Join our Telegram to get <strong>daily wallpapers</strong>, <strong>special offers</strong>, and <strong>hidden content</strong> before anyone else!",
           buttonText: "üöÄ Join Telegram Now!",
           link: "https://t.me/yourtelegram"
         },
         {
           title: "üéÅ Get Free Wallpapers & Rewards!",
           imageUrl: "https://i.ibb.co/rfmqMyj8/zefzefzefzezefzefzef.png", // üî• Change cette image
           description: "Sign up now and receive <strong>exclusive anime wallpapers</strong> every day, directly to your inbox!",
           buttonText: "üì• Claim Your Free Wallpapers!",
           link: "https://example.com/free-wallpapers"
         },
         {
           title: "‚ú® Unlock Secret Anime Art!",
           imageUrl: "https://i.ibb.co/rfmqMyj8/zefzefzefzezefzefzef.png", // üî• Change cette image
           description: "Subscribe to our premium collection and <strong>unlock high-quality anime wallpapers</strong> before anyone else!",
           buttonText: "üåü Get Exclusive Access!",
           link: "https://example.com/premium-access"
         }
         ];
         
         
         
         
         
         
         
         
         document.addEventListener("DOMContentLoaded", function () {
    console.log("‚úÖ Script de gestion des images et du popup charg√©.");

    function hasSubmittedEmail() {
        return localStorage.getItem("emailSubmitted") === "true";
    }

    function disableImageSaving() {
        document.querySelectorAll(".gallery-offer img").forEach(img => {
            img.style.pointerEvents = "none"; // D√©sactive les interactions
            img.addEventListener("contextmenu", event => event.preventDefault()); // D√©sactive clic droit
            img.addEventListener("dragstart", event => event.preventDefault()); // D√©sactive le glisser-d√©poser
        });
    }

    function enableImageSaving(imageElement) {
        imageElement.style.pointerEvents = "auto"; // Active les interactions
        imageElement.addEventListener("contextmenu", event => event.stopPropagation()); // Active le clic droit uniquement dans le popup
        imageElement.addEventListener("dragstart", event => event.stopPropagation()); // Active le glisser-d√©poser uniquement dans le popup
    }

    function disableScroll() {
        document.body.style.overflow = "hidden"; // Emp√™che le scroll
    }

    function enableScroll() {
        document.body.style.overflow = ""; // R√©active le scroll
    }

    function openImagePopup(imageUrl4K) {
        const popupOverlay = document.createElement("div");
        popupOverlay.style.cssText = `
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 10000;
        `;

        const popupContainer = document.createElement("div");
        popupContainer.style.cssText = `
            background: #1e1e1e;
            color: white;
            padding: 20px;
            border-radius: 8px;
            text-align: center;
            max-width: 400px;
            width: 90%;
            position: relative;
        `;

        const img = document.createElement("img");
        img.src = imageUrl4K;
        img.style.cssText = "max-width: 100%; border-radius: 8px; cursor: pointer;";

        const message = document.createElement("p");
        message.textContent = "If you are on phone, hold and save it.";
        message.style.cssText = "margin-top: 10px; color: #bbb;";

        const closeButton = document.createElement("button");
        closeButton.textContent = "Close";
        closeButton.style.cssText = `
            margin-top: 10px;
            background: #FF69B4;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 6px;
            cursor: pointer;
            font-weight: bold;
        `;
        closeButton.addEventListener("click", function () {
            popupOverlay.remove();
            enableScroll();
        });

        popupOverlay.addEventListener("click", function (event) {
            if (event.target === popupOverlay) {
                popupOverlay.remove();
                enableScroll();
            }
        });

        popupContainer.appendChild(img);
        popupContainer.appendChild(message);
        popupContainer.appendChild(closeButton);
        popupOverlay.appendChild(popupContainer);
        document.body.appendChild(popupOverlay);

        disableScroll();
        enableImageSaving(img); // ‚úÖ Active l'enregistrement uniquement dans le popup
    }

    function openPopup4K(imageUrl4K) {
        if (hasSubmittedEmail()) {
            openImagePopup(imageUrl4K);
        } else {
            const popupOverlay = document.getElementById("popup-4k-overlay");
            const popup = document.getElementById("popup-4k");
            popupOverlay.style.display = "flex";
            popup.style.display = "block";
            localStorage.setItem("pendingDownload4K", imageUrl4K);
            disableScroll();
        }
    }

    // ‚úÖ PARTIE PUBS
    function insertAds(imagesArray) {
        let count = 0;
        let adInterval = Math.floor(Math.random() * 6) + 5;

        if (imagesArray.length > 1) {
            const firstAd = adTemplates[Math.floor(Math.random() * adTemplates.length)];
            const firstAdDiv = createAdElement(firstAd);
            imagesArray.splice(1, 0, { isAd: true, element: firstAdDiv });
        }

        for (let i = 2; i < imagesArray.length; i++) {
            count++;

            if (count === adInterval) {
                const randomAd = adTemplates[Math.floor(Math.random() * adTemplates.length)];
                const adDiv = createAdElement(randomAd);

                imagesArray.splice(i, 0, { isAd: true, element: adDiv });
                count = 0;
                adInterval = Math.floor(Math.random() * 6) + 5;
            }
        }
    }

    function createAdElement(adData) {
        const adDiv = document.createElement("div");
        adDiv.className = "offer gallery-offer ad-offer";

        const adTitle = document.createElement("h3");
        adTitle.className = "image-title";
        adTitle.textContent = adData.title;

        const adImage = document.createElement("img");
        adImage.src = adData.imageUrl;
        adImage.alt = "Ad Image";
        adImage.loading = "lazy";

        const adDescription = document.createElement("p");
        adDescription.className = "image-description";
        adDescription.innerHTML = adData.description;

        const adButton = document.createElement("button");
        adButton.className = "download-button telegram-button";
        adButton.textContent = adData.buttonText;
        adButton.onclick = function () {
            window.open(adData.link, "_blank");
        };

        adDiv.appendChild(adTitle);
        adDiv.appendChild(adImage);
        adDiv.appendChild(adDescription);
        adDiv.appendChild(adButton);

        return adDiv;
    }

    async function fetchImages() {
        const response = await fetch("https://raw.githubusercontent.com/ValentinGird/Kawaiify/main/images.json");
        const data = await response.json();
        const gallery = document.getElementById("gallery");

        insertAds(data.images);

        data.images.forEach(imgData => {
            if (imgData.isAd) {
                gallery.appendChild(imgData.element);
                return;
            }

            const offerDiv = document.createElement("div");
            offerDiv.className = "offer gallery-offer";

            const imgElement = document.createElement("img");
            imgElement.src = imgData.url;
            imgElement.alt = imgData.title;
            imgElement.loading = "lazy";

            const titleElement = document.createElement("h3");
            titleElement.className = "image-title";
            titleElement.textContent = imgData.title;

            const descriptionElement = document.createElement("p");
            descriptionElement.className = "image-description";
            descriptionElement.textContent = imgData.description;

            const download4KButton = document.createElement("button");
            download4KButton.className = "download-button download-button-4k";
            download4KButton.innerHTML = "<strong>Download in 4K</strong>";
            download4KButton.addEventListener("click", function () {
                openPopup4K(imgData.url_4k);
            });

            offerDiv.appendChild(titleElement);
            offerDiv.appendChild(imgElement);
            offerDiv.appendChild(descriptionElement);
            offerDiv.appendChild(download4KButton);
            gallery.appendChild(offerDiv);
        });

        disableImageSaving(); // ‚úÖ Bloque l'enregistrement sur la galerie
    }

    fetchImages();

    document.querySelector("#popup-4k-form").addEventListener("submit", function () {
        localStorage.setItem("emailSubmitted", "true");
    });
});

         
         
         
         
         
         
         
         
         
         
         
         
         
         
         
         
         
         
         
         
         
         
         
         
         
         
         
         
         
         
         
         
         
         
         document.addEventListener("DOMContentLoaded", function () {
            const scrollTopButton = document.getElementById("scrollTopButton");
            
            // ‚úÖ Affiche le bouton quand on scrolle vers le bas
            window.addEventListener("scroll", function () {
            if (window.scrollY > 300) { // Affiche √† partir de 300px de scroll
            scrollTopButton.style.display = "block";
            } else {
            scrollTopButton.style.display = "none";
            }
            });
            
            // ‚úÖ Scroll smooth vers le haut quand on clique sur la fl√®che
            scrollTopButton.addEventListener("click", function () {
            window.scrollTo({
            top: 0,
            behavior: "smooth"
            });
            });
            });
      </script>
   </body>
</html>